# ************************************************************
# Sequel Pro SQL dump
# Version 4541
#
# http://www.sequelpro.com/
# https://github.com/sequelpro/sequelpro
#
# Host: 127.0.0.1 (MySQL 5.6.35)
# Database: BD103G2
# Generation Time: 2018-01-05 12:31:24 +0000
# ************************************************************


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;


# Dump of table HALFWAY_MEMBER
# ------------------------------------------------------------

CREATE TABLE `HALFWAY_MEMBER` (
  `HALF_NO` int(5) NOT NULL AUTO_INCREMENT COMMENT '自動產生會員編號',
  `HALF_ID` varchar(50) NOT NULL DEFAULT '',
  `HALF_PSW` varchar(32) NOT NULL DEFAULT '',
  `HALF_NAME` varchar(8) NOT NULL DEFAULT '',
  `HALF_HEAD` varchar(5) NOT NULL DEFAULT '',
  `HALF_TEL` varchar(10) NOT NULL DEFAULT '',
  `HALF_ADDRESS` varchar(40) NOT NULL DEFAULT '',
  `HALF_AUDIT_STATUS` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0=審核中/ 1=審核成功/ 2=審核失敗',
  `HALF_INTRO` text NOT NULL COMMENT '中途介紹',
  `HALF_DISCOUNT` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0=尚未獲得/ 1=已獲得/ 2=已使用',
  `HALF_BAN` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0=未停權/ 1=停權中',
  `HALF_OPEN` varchar(20) NOT NULL DEFAULT '尚未登記',
  `HALF_COVER` varchar(100) NOT NULL DEFAULT '../images/halfMemberPic/default.jpg',
  PRIMARY KEY (`HALF_NO`),
  UNIQUE KEY `HALF_ID` (`HALF_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;



# Dump of table MEMBER
# ------------------------------------------------------------

CREATE TABLE `MEMBER` (
  `MEM_NO` int(5) NOT NULL AUTO_INCREMENT COMMENT '自動產生會員編號',
  `MEM_ID` varchar(50) NOT NULL DEFAULT '',
  `MEM_PSW` varchar(32) NOT NULL DEFAULT '',
  `MEM_NAME` varchar(8) NOT NULL DEFAULT '',
  `MEM_BIRTHDAY` date NOT NULL,
  `MEM_TEL` varchar(10) NOT NULL DEFAULT '',
  `MEM_ADDRESS` varchar(40) NOT NULL DEFAULT '',
  `MEM_SCORE` int(3) DEFAULT NULL,
  `MEM_PIC` varchar(100) NOT NULL DEFAULT '../images/memberPic/default.jpg',
  `MEM_DISCOUNT` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0=尚未獲得/ 1=已獲得/ 2=已使用',
  `MEM_BAN` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0=未停權/ 1=停權中',
  PRIMARY KEY (`MEM_NO`),
  UNIQUE KEY `MEM_ID` (`MEM_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;



# Dump of table PRODUCT
# ------------------------------------------------------------

CREATE TABLE `PRODUCT` (
  `PRODUCT_NO` int(10) NOT NULL AUTO_INCREMENT,
  `PRODUCT_NAME` varchar(30) NOT NULL DEFAULT '',
  `PRODUCT_PRICE` int(5) NOT NULL,
  `PRODUCT_DETAIL` text NOT NULL,
  `PRODUCT_STATUS` tinyint(1) NOT NULL COMMENT '0=上架中/ 1=停售中',
  PRIMARY KEY (`PRODUCT_NO`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;



# Dump of table EMP
# ------------------------------------------------------------

CREATE TABLE `EMP` (
  `EMP_NO` int(5) NOT NULL AUTO_INCREMENT,
  `EMP_ID` varchar(50) NOT NULL DEFAULT '',
  `EMP_PSW` varchar(32) NOT NULL DEFAULT '',
  `EMP_POST` varchar(10) NOT NULL DEFAULT '',
  PRIMARY KEY (`EMP_NO`),
  UNIQUE KEY `EMP_ID` (`EMP_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


# Dump of table CAT
# ------------------------------------------------------------

CREATE TABLE `CAT` (
  `CAT_NO` int(6) NOT NULL AUTO_INCREMENT,
  `HALF_NO` int(5) NOT NULL,
  `CAT_NAME` varchar(10) NOT NULL DEFAULT '',
  `ADOPT_STATUS` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0=待領養/ 1=審核中/ 2=已領養',
  `CAT_SEX` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0=男生/ 1=女生',
  `CAT_NARRATIVE` text NOT NULL COMMENT '喵小孩敘述',
  `CAT_DATE` char(6) NOT NULL DEFAULT '' COMMENT '出生年月(西元)',
  `CAT_VACCINE` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0=未打疫苗/ 1=已打疫苗',
  `CAT_COLOR` varchar(5) NOT NULL DEFAULT '' COMMENT '顏色敘述',
  `CAT_LIGATION` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0=未結紮/ 1=已結紮',
  `CAT_COVER` varchar(100) NOT NULL DEFAULT '../images/catPic/default.jpg',
  PRIMARY KEY (`CAT_NO`),
  KEY `HALF_NO` (`HALF_NO`),
  CONSTRAINT `cat_ibfk_1` FOREIGN KEY (`HALF_NO`) REFERENCES `HALFWAY_MEMBER` (`HALF_NO`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;



# Dump of table ADOPTION
# ------------------------------------------------------------

CREATE TABLE `ADOPTION` (
  `CAT_NO` int(6) NOT NULL AUTO_INCREMENT,
  `MEM_NO` int(5) NOT NULL,
  `ADOPT_DATE` date NOT NULL,
  PRIMARY KEY (`CAT_NO`,`MEM_NO`),
  KEY `MEM_NO` (`MEM_NO`),
  KEY `CAT_NO` (`CAT_NO`),
  CONSTRAINT `adoption_ibfk_1` FOREIGN KEY (`CAT_NO`) REFERENCES `CAT` (`CAT_NO`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `adoption_ibfk_2` FOREIGN KEY (`MEM_NO`) REFERENCES `MEMBER` (`MEM_NO`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;



# Dump of table ARTICLE
# ------------------------------------------------------------

CREATE TABLE `ARTICLE` (
  `ARTICLE_NO` int(10) NOT NULL AUTO_INCREMENT,
  `MEM_NO` int(5) DEFAULT NULL,
  `HALF_NO` int(5) DEFAULT NULL,
  `ARTICLE_TITLE` varchar(20) NOT NULL DEFAULT '',
  `ARTICLE_CONTENT` text NOT NULL,
  `ARTICLE_TIME` datetime NOT NULL,
  PRIMARY KEY (`ARTICLE_NO`),
  KEY `MEM_NO` (`MEM_NO`),
  KEY `HALF_NO` (`HALF_NO`),
  CONSTRAINT `article_ibfk_1` FOREIGN KEY (`MEM_NO`) REFERENCES `MEMBER` (`MEM_NO`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `article_ibfk_2` FOREIGN KEY (`HALF_NO`) REFERENCES `HALFWAY_MEMBER` (`HALF_NO`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;



# Dump of table ARTICLE_PIC
# ------------------------------------------------------------

CREATE TABLE `ARTICLE_PIC` (
  `ARTICLE_PIC_NO` int(10) NOT NULL AUTO_INCREMENT,
  `ARTICLE_NO` int(10) NOT NULL,
  `ARTICLE_PIC_PATH` varchar(100) NOT NULL DEFAULT '',
  PRIMARY KEY (`ARTICLE_PIC_NO`),
  KEY `ARTICLE_NO` (`ARTICLE_NO`),
  CONSTRAINT `article_pic_ibfk_1` FOREIGN KEY (`ARTICLE_NO`) REFERENCES `ARTICLE` (`ARTICLE_NO`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;



# Dump of table ARTICLE_REPORT
# ------------------------------------------------------------

CREATE TABLE `ARTICLE_REPORT` (
  `ARTICLE_REPORT_NO` int(10) NOT NULL AUTO_INCREMENT,
  `MEM_NO` int(5) DEFAULT NULL,
  `HALF_NO` int(5) DEFAULT NULL,
  `AUDIT_STATUS` tinyint(1) NOT NULL,
  `ARTICLE_REPORT_NARRATIVE` varchar(50) DEFAULT NULL,
  `ARTICLE_REPORT_TIME` datetime NOT NULL,
  PRIMARY KEY (`ARTICLE_REPORT_NO`),
  KEY `MEM_NO` (`MEM_NO`),
  KEY `HALF_NO` (`HALF_NO`),
  CONSTRAINT `article_report_ibfk_1` FOREIGN KEY (`MEM_NO`) REFERENCES `MEMBER` (`MEM_NO`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `article_report_ibfk_2` FOREIGN KEY (`HALF_NO`) REFERENCES `HALFWAY_MEMBER` (`HALF_NO`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;



# Dump of table CAT_PIC
# ------------------------------------------------------------

CREATE TABLE `CAT_PIC` (
  `CAT_PIC_NO` int(8) NOT NULL AUTO_INCREMENT,
  `CAT_NO` int(6) NOT NULL,
  `CAT_PIC_PATH` varchar(100) NOT NULL DEFAULT '',
  PRIMARY KEY (`CAT_PIC_NO`),
  KEY `CAT_NO` (`CAT_NO`),
  CONSTRAINT `cat_pic_ibfk_1` FOREIGN KEY (`CAT_NO`) REFERENCES `CAT` (`CAT_NO`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;



# Dump of table DONATE
# ------------------------------------------------------------

CREATE TABLE `DONATE` (
  `DONATE_NO` int(10) NOT NULL AUTO_INCREMENT,
  `CAT_NO` int(6) NOT NULL,
  `DONATE_NAME` varchar(5) NOT NULL DEFAULT '',
  `DONATE_PRICE` int(5) NOT NULL,
  `DONATE_DATE` date NOT NULL,
  PRIMARY KEY (`DONATE_NO`),
  KEY `CAT_NO` (`CAT_NO`),
  CONSTRAINT `donate_ibfk_1` FOREIGN KEY (`CAT_NO`) REFERENCES `CAT` (`CAT_NO`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;



# Dump of table FAVORITE
# ------------------------------------------------------------

CREATE TABLE `FAVORITE` (
  `CAT_NO` int(6) NOT NULL AUTO_INCREMENT,
  `MEM_NO` int(5) NOT NULL,
  PRIMARY KEY (`CAT_NO`,`MEM_NO`),
  KEY `MEM_NO` (`MEM_NO`),
  KEY `CAT_NO` (`CAT_NO`),
  CONSTRAINT `favorite_ibfk_1` FOREIGN KEY (`CAT_NO`) REFERENCES `CAT` (`CAT_NO`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `favorite_ibfk_2` FOREIGN KEY (`MEM_NO`) REFERENCES `MEMBER` (`MEM_NO`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;



# Dump of table HALF_PIC
# ------------------------------------------------------------


CREATE TABLE `HALF_PIC` (
  `HALF_PIC_NO` int(6) NOT NULL AUTO_INCREMENT,
  `HALF_NO` int(5) NOT NULL,
  `HALF_PIC_PATH` varchar(100) NOT NULL DEFAULT '',
  PRIMARY KEY (`HALF_PIC_NO`),
  KEY `HALF_NO` (`HALF_NO`),
  CONSTRAINT `half_pic_ibfk_1` FOREIGN KEY (`HALF_NO`) REFERENCES `HALFWAY_MEMBER` (`HALF_NO`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


# Dump of table MESSAGE
# ------------------------------------------------------------

CREATE TABLE `MESSAGE` (
  `MESSAGE_NO` int(10) NOT NULL AUTO_INCREMENT,
  `ARTICLE_NO` int(10) NOT NULL,
  `MEM_NO` int(5) DEFAULT NULL,
  `HALF_NO` int(5) DEFAULT NULL,
  `MESSAGE_CONTENT` text NOT NULL,
  `MESSAGE_TIME` datetime NOT NULL,
  PRIMARY KEY (`MESSAGE_NO`),
  KEY `ARTICLE_NO` (`ARTICLE_NO`),
  KEY `MEM_NO` (`MEM_NO`),
  KEY `HALF_NO` (`HALF_NO`),
  CONSTRAINT `message_ibfk_1` FOREIGN KEY (`ARTICLE_NO`) REFERENCES `ARTICLE` (`ARTICLE_NO`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `message_ibfk_2` FOREIGN KEY (`MEM_NO`) REFERENCES `MEMBER` (`MEM_NO`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `message_ibfk_3` FOREIGN KEY (`HALF_NO`) REFERENCES `HALFWAY_MEMBER` (`HALF_NO`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;



# Dump of table MESSAGE_REPORT
# ------------------------------------------------------------

CREATE TABLE `MESSAGE_REPORT` (
  `MESSAGE_REPORT_NO` int(10) NOT NULL AUTO_INCREMENT,
  `MESSAGE_NO` int(10) NOT NULL,
  `MEM_NO` int(5) DEFAULT NULL,
  `HALF_NO` int(5) DEFAULT NULL,
  `AUDIT_STATUS` varchar(5) NOT NULL DEFAULT '',
  `MESSAGE_REPORT_NARRATIVE` varchar(50) DEFAULT NULL,
  `MESSAGE_REPORT_TIME` datetime NOT NULL,
  PRIMARY KEY (`MESSAGE_REPORT_NO`),
  KEY `MEM_NO` (`MEM_NO`),
  KEY `HALF_NO` (`HALF_NO`),
  KEY `MESSAGE_NO` (`MESSAGE_NO`),
  CONSTRAINT `message_report_ibfk_2` FOREIGN KEY (`MEM_NO`) REFERENCES `MEMBER` (`MEM_NO`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `message_report_ibfk_3` FOREIGN KEY (`HALF_NO`) REFERENCES `HALFWAY_MEMBER` (`HALF_NO`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `message_report_ibfk_4` FOREIGN KEY (`MESSAGE_NO`) REFERENCES `MESSAGE` (`MESSAGE_NO`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;



# Dump of table ORDERLIST
# ------------------------------------------------------------

CREATE TABLE `ORDERLIST` (
  `ORDER_NO` int(10) NOT NULL AUTO_INCREMENT,
  `MEM_NO` int(5) DEFAULT NULL,
  `HALF_NO` int(5) DEFAULT NULL,
  `ORDER_STATUS` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0=尚未出貨/ 1=運送中/ 2=已完成',
  `ORDER_PRICE` int(5) NOT NULL,
  `CUS_NAME` varchar(5) NOT NULL DEFAULT '',
  `CUS_ADDRESS` varchar(40) NOT NULL DEFAULT '',
  `CUS_TEL` varchar(10) NOT NULL DEFAULT '',
  `ORDER_TIME` datetime NOT NULL,
  `CUS_PAYMENT` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0=超商付款/ 1=信用卡付款',
  `CUS_RECIPIENT` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0=超商取貨 / 1=宅配',
  `ORDER_SHIPPING_TIME` datetime NOT NULL COMMENT '寄件日期',
  PRIMARY KEY (`ORDER_NO`),
  KEY `MEM_NO` (`MEM_NO`),
  KEY `HALF_NO` (`HALF_NO`),
  CONSTRAINT `orderlist_ibfk_1` FOREIGN KEY (`MEM_NO`) REFERENCES `MEMBER` (`MEM_NO`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `orderlist_ibfk_2` FOREIGN KEY (`HALF_NO`) REFERENCES `HALFWAY_MEMBER` (`HALF_NO`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;



# Dump of table ORDERLIST_DETAILS
# ------------------------------------------------------------

CREATE TABLE `ORDERLIST_DETAILS` (
  `ORDER_NO` int(10) NOT NULL AUTO_INCREMENT,
  `PRODUCT_NO` int(10) NOT NULL,
  `PRODUCT_PRICE` int(5) NOT NULL,
  `COUNT` int(10) NOT NULL,
  PRIMARY KEY (`ORDER_NO`,`PRODUCT_NO`),
  KEY `ORDER_NO` (`ORDER_NO`),
  KEY `PRODUCT_NO` (`PRODUCT_NO`),
  CONSTRAINT `orderlist_details_ibfk_3` FOREIGN KEY (`ORDER_NO`) REFERENCES `ORDERLIST` (`ORDER_NO`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `orderlist_details_ibfk_4` FOREIGN KEY (`PRODUCT_NO`) REFERENCES `PRODUCT` (`PRODUCT_NO`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;



# Dump of table PRODUCT_PIC
# ------------------------------------------------------------

CREATE TABLE `PRODUCT_PIC` (
  `PRODUCT_PIC_NO` int(10) NOT NULL AUTO_INCREMENT,
  `PRODUCT_NO` int(10) NOT NULL,
  `PRODUCT_PIC_PATH` varchar(100) NOT NULL DEFAULT '',
  PRIMARY KEY (`PRODUCT_PIC_NO`),
  KEY `PRODUCT_NO` (`PRODUCT_NO`),
  CONSTRAINT `product_pic_ibfk_1` FOREIGN KEY (`PRODUCT_NO`) REFERENCES `PRODUCT` (`PRODUCT_NO`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;




/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
