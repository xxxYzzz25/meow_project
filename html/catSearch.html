<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<script src='https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="../css/catSearch.css">
	<script src="../js/cat/advanceSearch_JQuery.js"></script>
	<script src="../js/cat/arrowSwitch.js"></script>
	<script src="../js/cat/like.js"></script>
	<script src="../js/signIn.js"></script>
	<title>尋喵</title>
</head>

<body>
	<div class="signUpLightboxBlack">
	</div>
	<div class="signUpLightbox" id="loginBox">
		<i class="fa fa-times cancel"></i>
		<div class="bgImg" id="bgImg"></div>
		<div id="formShape1" class="formShape formShape1">
			<div class="chioce">
				<button id="halfMember1">中途之家會員</button>
				<button id="member1" class="selected">一般會員</button>
			</div>
			<form action="#1" class="signUpForm" id="signInForm">
				<br>
				<br>
				<br>
				<br>
				<label for="userId">會員帳號
					<br>
					<small>請輸入您的電子郵件</small>
				</label>
				<input type="email" id="userIdIn" required>
				<br>
				<label for="userPsw">會員密碼
					<br>
					<small>請輸入6~10碼英數字</small>
				</label>
				<input type="password" id="userPswIn" required>
				<br>
				<p class="signInUpPos">尚未成為會員嗎?
					<span id="signIn2Up">點此註冊</span>
				</p>
			</form>
		</div>
		<div id="formShape2" class="formShape formShape2">
			<div class="chioce">
				<button id="halfMember2">中途之家會員</button>
				<button id="member2" class="selected">一般會員</button>
			</div>
			<form action="#1" id="signUpForm">
				<label for="userName">會員名稱
					<br>
					<small>不得多於8個中/英文字元</small>
				</label>
				<input type="text" id="userName" placeholder="請輸入您的名稱" required>
				<br>
				<label for="userId">會員帳號
					<br>
					<small>請輸入您的電子郵件</small>
				</label>
				<input type="email" id="userId" placeholder="請輸入您的電子郵件" required>
				<br>
				<label for="userPsw">會員密碼
					<br>
					<small>請輸入6~10碼英數字</small>
				</label>
				<input type="password" id="userPsw" placeholder="請輸入您的密碼" required>
				<br>
				<label for="userTel">聯絡電話
					<br>
				</label>
				<input type="tel" id="userTel" placeholder="請輸入您的手機號碼" required>
				<br>
				<label for="userBirth">會員生日
					<br>
				</label>
				<input type="text" id="userBirth" placeholder="ex:19900101" required>
				<br>
				<label for="userAddress">通訊地址
					<br>
				</label>
				<input type="text" id="userAddress" placeholder="請輸入您的地址" required>
				<br>
				<div class="chioce">
					<label for="userPhoto" class="formBtn" id="userPhotoLabel">
						點我上傳您的大頭貼
					</label>
					<input type="file" id="userPhoto" placeholder="您可以上傳您的檔案" value="file">
					<input type="submit" id="loginBoxSubmit" class="formBtn formSubmitBtn" value="確認註冊">
					<input type="reset" class="formBtn formSubmitBtn" value="清除重填">
				</div>
				<p class="signInUpPos">已經是會員了嗎?
					<span id="signUp2In">點此登入</span>
				</p>
			</form>
		</div>
	</div>
	<header>
		<div class="logo">
			<a href="../index.php" title="尋喵啟事">
				<h1>
					<img src="../images/logo_white.png" alt="尋喵啟事" title="前往首頁">
				</h1>
			</a>
		</div>
		<nav>
			<ul>
				<li>
					<a href="./catSearch.html" title="前往尋喵">尋喵</a>
				</li>
				<li>
					<a href="./halfway_house_search.html" title="前往中途之家">中途之家</a>
				</li>
				<li>
					<a href="./Cat_ShoppingStore.html" title="前往商城">商城</a>
				</li>
				<li>
					<a href="./forum.html" title="前往討論區">討論區</a>
				</li>
				<li>
					<a href="./member.html" title="前往會員專區">會員專區</a>
				</li>
			</ul>
		</nav>
		<div class="icons">
			<a href="#">
				<i class="fa fa-shopping-cart fa-2x" aria-hidden="true"></i>
			</a>
			<a href="#">
				<i class="fa fa-user-circle-o fa-2x login" aria-hidden="true"></i>
			</a>
			<a href="#">
				<i class="fa fa-heart-o fa-2x" aria-hidden="true"></i>
				<span id="like">6</span>
			</a>
		</div>
	</header>
	<div class="right">
		<div class="container container1">
			<h2>尋喵
				<br>
				<small class="selectTitle">搜尋你的喵喵</small>
			</h2>
			<form method="POST" action="#" class='selectForm'>
				<div>
					<div class="formInsert">
						<input type="text" class="searchBar condition1" id="searchText" placeholder="你知道心儀喵喵的名字嗎？">
						<button type="button" class="searchBtn defaultBtn" id="searchBtn">
							<i class="fa fa-search " aria-hidden="true"></i>
						</button>
					</div>
					<br>
				</div>
				<label class="advanceSearch" id="tableControl" for="advanced">進階搜尋
					<i class="fa fa-angle-down" id="arrowDown" aria-hidden="true"></i>
				</label>
				<input type="checkbox" id="advanced">
				<div class="advanceSearchItem">
					<div>
						<label class="selectTitle">毛色：</label>
						<div class="formInsert">
							<button type="button" class="condition condition1" data-name='color' data-val='1'>虎斑</button>
							<button type="button" class="condition" data-name='color' data-val='2'>豹紋</button>
							<button type="button" class="condition" data-name='color' data-val='3'>三花</button>
							<button type="button" class="condition" data-name='color' data-val='4'>玳瑁</button>
							<button type="button" class="condition" data-name='color' data-val='5'>純色</button>
						</div>
					</div>

					<div>
						<label class="selectTitle toMiddle">地區：</label>
						<div class="formInsert">
							<button type="button" class="condition condition1" data-name='location' data-val='0'>臺北市</button>
							<button type="button" class="condition" data-name='location' data-val='1'>新北市</button>
							<button type="button" class="condition" data-name='location' data-val='2'>基隆市</button>
							<br class="forRWD">
							<button type="button" class="condition" data-name='location' data-val='3'>桃園市</button>
							<button type="button" class="condition" data-name='location' data-val='4'>新竹市</button>
							<br>
							<button type="button" class="condition condition1" data-name='location' data-val='5'>新竹縣</button>
							<button type="button" class="condition" data-name='location' data-val='6'>宜蘭縣</button>
							<button type="button" class="condition" data-name='location' data-val='7'>苗栗縣</button>
							<br class="forRWD">
							<button type="button" class="condition" data-name='location' data-val='8'>台中市</button>
							<button type="button" class="condition" data-name='location' data-val='9'>彰化縣</button>
							<br>
							<button type="button" class="condition condition1" data-name='location' data-val='10'>南投縣</button>
							<button type="button" class="condition" data-name='location' data-val='11'>雲林縣</button>
							<button type="button" class="condition" data-name='location' data-val='12'>嘉義縣</button>
							<br class="forRWD">
							<button type="button" class="condition" data-name='location' data-val='13'>嘉義市</button>
							<button type="button" class="condition" data-name='location' data-val='14'>台南市</button>
							<br>
							<button type="button" class="condition condition1" data-name='location' data-val='15'>高雄市</button>
							<button type="button" class="condition" data-name='location' data-val='16'>屏東縣</button>
							<button type="button" class="condition" data-name='location' data-val='17'>花蓮縣</button>
							<br class="forRWD">
							<button type="button" class="condition" data-name='location' data-val='18'>台東縣</button>
							<button type="button" class="condition" data-name='location' data-val='19'>離島</button>
						</div>
					</div>

					<div>
						<label class="selectTitle">性別：</label>
						<div class="formInsert">
							<button type="button" class="condition condition1" data-name='gender' data-val='0'>男孩</button>
							<button type="button" class="condition" data-name='gender' data-val='1'>女孩</button>
						</div>
					</div>
				</div>
				<div class='S_checkbox' style='display:none;'></div>
			</form>
			<select name="sortCat" id="sortCat">
				<option value="1">刊登日期從新到舊</option>
				<option value="2">刊登日期從舊到新</option>
			</select>
			<div class="catPic" id="content">
				<!-- 使用ajax撈資料並放到這裡 -->
			</div>
			<script>
				window.addEventListener('load',() => {
					function getData(info) {
						let xhr = new XMLHttpRequest()
						xhr.onload = function () {
							if (xhr.status == 200) {
								let content = document.getElementById('content')
								content.innerHTML = xhr.responseText
								like()
							} else {
								alert(xhr.status)
							}
						}
						let url = '../php/catSearch.php'
						let dataInfo = info
						xhr.open("post", url, true)
						xhr.setRequestHeader("content-type", "application/x-www-form-urlencoded");
						xhr.send(dataInfo)
					}
					function ajaxData(e){
						let searchText = document.getElementById('searchText').value
						let sort = document.getElementById('sortCat').value
						if( searchText !== '' ){
							// if( sort == 2 ){
								// getData('sort=2&searchText=' + searchText)
							// }else{
								getData('searchText=' + searchText)
						}else{
							getData();
						}
						// }else if( searchText == '' ) {
							// if ( sort == 2 ) {
							// 	getData('sort=2')
							// }
					}
					function like() {
						let heart = document.getElementsByClassName('favorite');
						for (let i = 0, len = heart.length; i < len; i++) {
							heart[i].addEventListener('click', () => {
								if (heart[i].className.match('fa-heart-o')) {
									heart[i].className =
										heart[i].className.replace
											('fa-heart-o', 'fa-heart')
								} else {
									heart[i].className =
										heart[i].className.replace
											('fa-heart', 'fa-heart-o')
								}
							})
						}
					}
					let searchBtn = document.getElementById('searchText')
					searchBtn.addEventListener('input', ajaxData)
					getData();
				});
			</script>
		</div>
	</div>
	<footer>
		<div class="container">
			<div class="follow">
				<div class="btns">
					<span>follow us on</span>
					<a href="#" class="btn facebook">
						<i class="fa fa-facebook"></i>
					</a>
					<a href="#" class="btn youtube">
						<i class="fa fa-youtube"></i>
					</a>
					<a href="#" class="btn twitter">
						<i class="fa fa-twitter"></i>
					</a>
					<a href="#" class="btn google">
						<i class="fa fa-google"></i>
					</a>
				</div>
			</div>
		</div>
	</footer>
</body>

</html>